
@model IEnumerable<Hydocs.Areas.AdWorks.Models.DB.Customer>
@{
    Layout = "~/_Layout.cshtml";
}
<div class="container">
    <h3>Adventure Works Customers: MVC 5 with React JSX search</h3>
    <div class="imagdiv1">
        <div class="row">
            <h4>Implementation note</h4>
            <h5>The grid on the right-hand side is a classic MVC 5 / Entity Framework 6 solution with the default Editing (scroll to the end of a row!).</h5>
            <h5>The Search functionality is a very simple yet powerful React feature. For the sake of trying the alternatives, I did not use bundling tools like 'mpm', 'Webpack' or 'Browserfy', but Babel on the server side. The code is coming to Github soon :) </h5>
            <div class="blank"></div>
            <div class="col-sm-3">
                <div id="search" class="list-group"><img src="~/Content/loading.gif" /></div>
            </div>
            <div class="col-sm-9">
                <div class="table-scroll" data-toggle="tooltip" data-container="body" data-placement="top" title="Scroll to the right to edit a row">
                    <table style="max-height: 400px; max-width: 600px;overflow: scroll;font-size:small">
                        <tr>
                            <th>
                                @Html.DisplayNameFor(model => model.FirstName)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.LastName)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.BirthDate)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.MaritalStatus)
                            </th>

                            <th>
                                @Html.DisplayNameFor(model => model.Gender)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.EmailAddress)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.YearlyIncome)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.TotalChildren)
                            </th>

                            <th>
                                @Html.DisplayNameFor(model => model.EnglishEducation)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.SpanishEducation)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.FrenchEducation)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.EnglishOccupation)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.SpanishOccupation)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.FrenchOccupation)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.HouseOwnerFlag)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.NumberCarsOwned)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.AddressLine1)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.AddressLine2)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.Phone)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.DateFirstPurchase)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.CommuteDistance)
                            </th>
                            <th></th>
                        </tr>

                        @foreach (var item in Model)
            {
                            <tr>
                                <td>
                                    @Html.DisplayFor(modelItem => item.FirstName)
                                </td>

                                <td>
                                    @Html.DisplayFor(modelItem => item.LastName)
                                </td>

                                <td>
                                    @Html.DisplayFor(modelItem => item.BirthDate)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.MaritalStatus)
                                </td>

                                <td>
                                    @Html.DisplayFor(modelItem => item.Gender)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.EmailAddress)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.YearlyIncome)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.TotalChildren)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.EnglishEducation)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.SpanishEducation)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.FrenchEducation)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.EnglishOccupation)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.SpanishOccupation)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.FrenchOccupation)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.HouseOwnerFlag)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.NumberCarsOwned)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.AddressLine1)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.AddressLine2)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Phone)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.DateFirstPurchase)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.CommuteDistance)
                                </td>
                                <td>
                                    @Html.ActionLink("Create New", "Create")
                                    @Html.ActionLink("Edit", "Edit", new { id = item.CustomerKey }) |
                                    @Html.ActionLink("Details", "Details", new { id = item.CustomerKey }) |
                                    <!-- @Html.ActionLink("Delete", "Delete", new { id = item.CustomerKey })-->
                                </td>
                            </tr>
                        }

                    </table>
                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
    </div>
    <script src="~/Areas/AdWorks/SearchContainer.jsx"></script>
    <script>
        //This enables Bootstrap tooltips
        $(document).ready(function () {
            $('[data-toggle="tooltip"]').tooltip();
        });
        ReactDOM.render(React.createElement(SearchContainer, { url: '/hydocs/api/Customers' }), document.getElementById('search'));
    </script>

